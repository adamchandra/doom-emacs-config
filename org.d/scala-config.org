* Scala Config

#+begin_src emacs-lisp

;; LSP :: You can configure this warning with the `lsp-enable-file-watchers' and `lsp-file-watch-threshold' variables

;; (defcustom lsp-file-watch-ignored-directories
(after! scala-mode
  (progn
    (message "running custom config-scala-mode")

    ;; (add-hook 'scala-mode-hook 'turn-on-auto-revert-mode)

    ;; When a buffer is reverted, a message is generated.  This can be
    ;; suppressed by setting ‘auto-revert-verbose’ to nil.

    ;; Use ‘global-auto-revert-mode’ to automatically revert all buffers.
    ;; Use ‘auto-revert-tail-mode’ if you know that the file will only grow
    ;; without being changed in the part that is already in the buffer.

    ;; Automatically insert asterisk in a comment when enabled
    (defun scala/newline-and-indent-with-asterisk ()
      (interactive)
      (newline-and-indent)
      (when scala-auto-insert-asterisk-in-comments
        (scala-indent:insert-asterisk-on-multiline-comment)))

    (evil-define-key 'insert scala-mode-map
      (kbd "RET") 'scala/newline-and-indent-with-asterisk)

    ;; ;;(evil-define-key 'normal scala-mode-map "J" 'spacemacs/scala-join-line)


    ;; --"md"  'lsp-metals-doctor-run       ;; Execute Doctor
    ;; --"mt"  'lsp-metals-treeview         ;; Switch to treeview
    ;; --"mbi" 'lsp-metals-build-import  ;; Unconditionally run `sbt bloopInstall` and re-connect to the build server."
    ;; --"mbc" 'lsp-metals-build-connect ;; Unconditionally cancel existing build server connection and re-connect."
    ;; --"mbs" 'lsp-metals-bsp-switch  ;; Interactively switch between BSP servers.
    ;; --"mss" 'lsp-metals-sources-scan  ;; Walk all files in the workspace and index where symbols are defined."
    ;; --"mrc" 'lsp-metals-reset-choice  ;; Reset a decision you made about different settings. E.g. If you choose to import workspace with sbt you can decide to reset and change it again."

    (setq scala-indent:step 2
          scala-indent:indent-value-expression nil
          scala-indent:align-parameters nil
          scala-indent:align-forms t

          ;; defconst scala-indent:eager-strategy 0
          ;; defconst scala-indent:operator-strategy 1
          ;; defconst scala-indent:reluctant-strategy 2
          scala-indent:default-run-on-strategy scala-indent:operator-strategy

          scala-indent:add-space-for-scaladoc-asterisk t
          scala-indent:use-javadoc-style nil
          )


    )
  )

#+end_src
